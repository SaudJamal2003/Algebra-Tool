/**
 * Detect the position of the first non-whitespace character in the string.
 * @param {string} textChunk - The chunk of text to be analyzed.
 * @returns {number} - The index of the first non-whitespace character, or -1 if no such character is found.
 */
const detectNonWhitespaceCharacter = (textChunk) => {
    for (let i = 0; i < textChunk.length; i++) {
        if (!/\s/.test(textChunk[i])) {  // If it's not a whitespace character
            return (i);
        }
    }
    return -1;  // Return -1 if no non-whitespace character is found
};

// Example usage
const exampleText = `Text chunk:  {"candidates":[{"content":{"parts":[{"text":"Here"}],"role":"model"},"finishReason":"STOP","index":0}],"usageMetadata":{"promptTokenCount":653,"candidatesTokenCount":1,"totalTokenCount":654}}{"candidates":[{"content":{"parts":[{"text":"'s how to solve for *x* in the equation **3x ="}],"role":"model"},"finishReason":"STOP","index":0,"safetyRatings":[{"category":"HARM_CATEGORY_SEXUALLY_EXPLICIT","probability":"NEGLIGIBLE"},{"category":"HARM_CATEGORY_HATE_SPEECH","probability":"NEGLIGIBLE"},{"category":"HARM_CATEGORY_HARASSMENT","probability":"NEGLIGIBLE"},{"category":"HARM_CATEGORY_DANGEROUS_CONTENT","probability":"NEGLIGIBLE"}]}],"usageMetadata":{"promptTokenCount":653,"candidatesTokenCount":17,"totalTokenCount":670}}{"candidates":[{"content":{"parts":[{"text":" 9**:\n\n**1.  Isolate the *x* term:** "}],"role":"model"},"finishReason":"STOP","index":0,"safetyRatings":[{"category":"HARM_CATEGORY_SEXUALLY_EXPLICIT","probability":"NEGLIGIBLE"},{"category":"HARM_CATEGORY_HATE_SPEECH","probability":"NEGLIGIBLE"},{"category":"HARM_CATEGORY_HARASSMENT","probability":"NEGLIGIBLE"},{"category":"HARM_CATEGORY_DANGEROUS_CONTENT","probability":"NEGLIGIBLE"}]}],"usageMetadata":{"promptTokenCount":653,"candidatesTokenCount":31,"totalTokenCount":684}}{"candidates":[{"content":{"parts":[{"text":"\n   *  Since *x* is being multiplied by 3, we need to get rid of the 3.  We do this by dividing both"}],"role":"model"},"finishReason":"STOP","index":0,"safetyRatings":[{"category":"HARM_CATEGORY_SEXUALLY_EXPLICIT","probability":"NEGLIGIBLE"},{"category":"HARM_CATEGORY_HATE_SPEECH","probability":"NEGLIGIBLE"},{"category":"HARM_CATEGORY_HARASSMENT","probability":"NEGLIGIBLE"},{"category":"HARM_CATEGORY_DANGEROUS_CONTENT","probability":"NEGLIGIBLE"}]}],"usageMetadata":{"promptTokenCount":653,"candidatesTokenCount":61,"totalTokenCount":714}}{"candidates":[{"content":{"parts":[{"text":" sides of the equation by 3.\n\n**2. Simplify:**\n   *  3x / 3 = 9 / 3\n   *"}],"role":"model"},"finishReason":"STOP","index":0,"safetyRatings":[{"category":"HARM_CATEGORY_SEXUALLY_EXPLICIT","probability":"NEGLIGIBLE"},{"category":"HARM_CATEGORY_HATE_SPEECH","probability":"NEGLIGIBLE"},{"category":"HARM_CATEGORY_HARASSMENT","probability":"NEGLIGIBLE"},{"category":"HARM_CATEGORY_DANGEROUS_CONTENT","probability":"NEGLIGIBLE"}]}],"usageMetadata":{"promptTokenCount":653,"candidatesTokenCount":93,"totalTokenCount":746}}{"candidates":[{"content":{"parts":[{"text":"  This simplifies to **x = 3**.\n\n**Therefore, the solution to the equation 3x = 9 is x = 3.** \n"}],"role":"model"},"finishReason":"STOP","index":0,"safetyRatings":[{"category":"HARM_CATEGORY_SEXUALLY_EXPLICIT","probability":"NEGLIGIBLE"},{"category":"HARM_CATEGORY_HATE_SPEECH","probability":"NEGLIGIBLE"},{"category":"HARM_CATEGORY_HARASSMENT","probability":"NEGLIGIBLE"},{"category":"HARM_CATEGORY_DANGEROUS_CONTENT","probability":"NEGLIGIBLE"}]}],"usageMetadata":{"promptTokenCount":653,"candidatesTokenCount":123,"totalTokenCount":776}}`;
const position = detectNonWhitespaceCharacter(exampleText);
console.log("First non-whitespace character at position:", position);  // Should return index of first '{'
